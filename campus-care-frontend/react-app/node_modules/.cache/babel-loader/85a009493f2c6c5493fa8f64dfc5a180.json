{"ast":null,"code":"var _jsxFileName = \"/Users/yagmureryilmaz/Documents/GitHub/panic-at-the-devops/campus-care-frontend/react-app/src/app/components/LineGraph.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useReport } from \"../../../hooks/useReport\";\nimport i18n from \"../../../../src/configs/i18n\";\nimport { withNamespaces } from \"react-i18next\";\nimport { awscontext } from \"../../../configs/awscontext\";\nimport { ResponsivePie } from \"@nivo/pie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DonutBar() {\n  _s();\n\n  const [reportData, setReportData] = useReport([]);\n  const [instData, setInstData] = useState([]);\n  const [barData, setBarData] = useState([]);\n  const context = useContext(awscontext);\n  useEffect(() => {\n    if (context.userRole === \"Super Admin\") {\n      setReportData(\"dashboardChart\", \"\");\n    } else {\n      setReportData(\"instituteDashboardChart\", \"\");\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (reportData.length > 0) {\n      prepareData();\n    }\n  }, [reportData]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const prepareData = () => {\n    const institutePiePre = [];\n    const barDataPre = [];\n    reportData.forEach(report => {\n      let liveExams = 0;\n      report.Sessions.forEach(session => {\n        if (Date.parse(session.sessionDate) < new Date()) {} else {\n          liveExams += 1;\n        }\n      });\n      institutePiePre.push({\n        id: report.instituteName,\n        label: report.instituteName,\n        value: report.Sessions.length\n      });\n      barDataPre.push({\n        institute: report.instituteName,\n        totalSessionNum: report.Sessions.length,\n        activeSessionNum: liveExams\n      });\n    });\n    setBarData(barDataPre);\n    setInstData(institutePiePre);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row m-4\",\n    children: [context.userRole === \"Super Admin\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-4 mb-4 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header py-3 dark-blue\",\n              style: {\n                fontFamily: \"verdana\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: i18n.t(\"Institute_List\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: 450,\n                  backgroundColor: \"white\"\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsivePie, {\n                  data: instData,\n                  margin: {\n                    top: 40,\n                    right: 80,\n                    bottom: 80,\n                    left: 80\n                  },\n                  innerRadius: 0.5,\n                  padAngle: 0.7,\n                  cornerRadius: 3,\n                  activeOuterRadiusOffset: 8,\n                  colors: {\n                    scheme: \"accent\"\n                  },\n                  borderWidth: 2,\n                  borderColor: {\n                    from: \"color\",\n                    modifiers: [[\"brighter\", 0.2]]\n                  },\n                  arcLinkLabelsSkipAngle: 6,\n                  arcLinkLabelsTextColor: \"#333333\",\n                  arcLinkLabelsThickness: 2,\n                  arcLinkLabelsColor: \"#766f6f\",\n                  arcLabelsSkipAngle: 10,\n                  arcLabelsTextColor: {\n                    from: \"color\",\n                    modifiers: [[\"darker\", 2]]\n                  },\n                  defs: [{\n                    id: \"dots\",\n                    type: \"patternDots\",\n                    background: \"inherit\",\n                    color: \"rgba(255, 255, 255, 0.3)\",\n                    size: 4,\n                    padding: 1,\n                    stagger: true\n                  }, {\n                    id: \"lines\",\n                    type: \"patternLines\",\n                    background: \"inherit\",\n                    color: \"rgba(255, 255, 255, 0.3)\",\n                    rotation: -45,\n                    lineWidth: 6,\n                    spacing: 10\n                  }],\n                  fill: [{\n                    match: {\n                      id: \"ruby\"\n                    },\n                    id: \"dots\"\n                  }, {\n                    match: {\n                      id: \"c\"\n                    },\n                    id: \"dots\"\n                  }, {\n                    match: {\n                      id: \"go\"\n                    },\n                    id: \"dots\"\n                  }, {\n                    match: {\n                      id: \"python\"\n                    },\n                    id: \"dots\"\n                  }, {\n                    match: {\n                      id: \"scala\"\n                    },\n                    id: \"lines\"\n                  }, {\n                    match: {\n                      id: \"lisp\"\n                    },\n                    id: \"lines\"\n                  }, {\n                    match: {\n                      id: \"elixir\"\n                    },\n                    id: \"lines\"\n                  }, {\n                    match: {\n                      id: \"javascript\"\n                    },\n                    id: \"lines\"\n                  }],\n                  transitionMode: \"startAngle\",\n                  legends: []\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header py-3 dark-blue\",\n              style: {\n                fontFamily: \"verdana\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: i18n.t(\"Session_List\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  height: 450,\n                  backgroundColor: \"white\"\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsiveBar, {\n                  data: barData,\n                  keys: [\"totalSessionNum\", \"activeSessionNum\"],\n                  keyNames: [\"Total Sessions\", \"Active Sessions\"],\n                  indexBy: \"institute\",\n                  margin: {\n                    top: 50,\n                    right: 130,\n                    bottom: 50,\n                    left: 60\n                  },\n                  padding: 0.3,\n                  valueScale: {\n                    type: \"linear\"\n                  },\n                  indexScale: {\n                    type: \"band\",\n                    round: true\n                  },\n                  valueFormat: {\n                    format: \"\",\n                    enabled: false\n                  },\n                  colors: {\n                    scheme: \"paired\"\n                  },\n                  defs: [{\n                    id: \"dots\",\n                    type: \"patternDots\",\n                    background: \"inherit\",\n                    color: \"#38bcb2\",\n                    size: 4,\n                    padding: 1,\n                    stagger: true\n                  }, {\n                    id: \"lines\",\n                    type: \"patternLines\",\n                    background: \"inherit\",\n                    color: \"#eed312\",\n                    rotation: -45,\n                    lineWidth: 6,\n                    spacing: 10\n                  }],\n                  fill: [{\n                    match: {\n                      id: \"fries\"\n                    },\n                    id: \"dots\"\n                  }, {\n                    match: {\n                      id: \"sandwich\"\n                    },\n                    id: \"lines\"\n                  }],\n                  borderRadius: 5,\n                  borderWidth: 2,\n                  borderColor: {\n                    theme: \"background\"\n                  },\n                  axisTop: null,\n                  axisRight: null,\n                  axisBottom: {\n                    tickSize: 5,\n                    tickPadding: 5,\n                    tickRotation: 0,\n                    legend: \"Institute\",\n                    legendPosition: \"middle\",\n                    legendOffset: 32\n                  },\n                  axisLeft: {\n                    tickSize: 5,\n                    tickPadding: 5,\n                    tickRotation: 0,\n                    legend: \"Count\",\n                    legendPosition: \"middle\",\n                    legendOffset: -40\n                  },\n                  labelSkipWidth: 13,\n                  labelSkipHeight: 9,\n                  labelTextColor: {\n                    from: \"color\",\n                    modifiers: [[\"darker\", \"1.6\"]]\n                  },\n                  legends: [{\n                    dataFrom: \"keys\",\n                    anchor: \"bottom-right\",\n                    direction: \"column\",\n                    justify: false,\n                    translateX: 120,\n                    translateY: 0,\n                    itemsSpacing: 2,\n                    itemWidth: 100,\n                    itemHeight: 20,\n                    itemDirection: \"left-to-right\",\n                    itemOpacity: 0.85,\n                    symbolSize: 20,\n                    effects: [{\n                      on: \"hover\",\n                      style: {\n                        itemOpacity: 1\n                      }\n                    }]\n                  }]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DonutBar, \"lPecbV0sj7R+wHqGvqRlduS5bLQ=\", false, function () {\n  return [useReport];\n});\n\n_c = DonutBar;\nexport default withNamespaces()(DonutBar);\n\nvar _c;\n\n$RefreshReg$(_c, \"DonutBar\");","map":{"version":3,"sources":["/Users/yagmureryilmaz/Documents/GitHub/panic-at-the-devops/campus-care-frontend/react-app/src/app/components/LineGraph.js"],"names":["React","useState","useEffect","useContext","useReport","i18n","withNamespaces","awscontext","ResponsivePie","DonutBar","reportData","setReportData","instData","setInstData","barData","setBarData","context","userRole","length","prepareData","institutePiePre","barDataPre","forEach","report","liveExams","Sessions","session","Date","parse","sessionDate","push","id","instituteName","label","value","institute","totalSessionNum","activeSessionNum","fontFamily","t","height","backgroundColor","top","right","bottom","left","scheme","from","modifiers","type","background","color","size","padding","stagger","rotation","lineWidth","spacing","match","round","format","enabled","theme","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","effects","on","style"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useReport } from \"../../../hooks/useReport\";\nimport i18n from \"../../../../src/configs/i18n\";\nimport { withNamespaces } from \"react-i18next\";\nimport { awscontext } from \"../../../configs/awscontext\";\nimport { ResponsivePie } from \"@nivo/pie\";\n\nfunction DonutBar() {\n  const [reportData, setReportData] = useReport([]);\n  const [instData, setInstData] = useState([]);\n  const [barData, setBarData] = useState([]);\n  const context = useContext(awscontext);\n  useEffect(() => {\n    if (context.userRole === \"Super Admin\") {\n      setReportData(\"dashboardChart\", \"\");\n    } else {\n      setReportData(\"instituteDashboardChart\", \"\");\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (reportData.length > 0) {\n      prepareData();\n    }\n  }, [reportData]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const prepareData = () => {\n    const institutePiePre = [];\n    const barDataPre = [];\n    reportData.forEach((report) => {\n      let liveExams = 0;\n      report.Sessions.forEach((session) => {\n        if (Date.parse(session.sessionDate) < new Date()) {\n        } else {\n          liveExams += 1;\n        }\n      });\n\n      institutePiePre.push({\n        id: report.instituteName,\n        label: report.instituteName,\n        value: report.Sessions.length,\n      });\n\n      barDataPre.push({\n        institute: report.instituteName,\n        totalSessionNum: report.Sessions.length,\n        activeSessionNum: liveExams,\n      });\n    });\n    setBarData(barDataPre);\n    setInstData(institutePiePre);\n  };\n\n  return (\n    <div className=\"row m-4\">\n      {context.userRole === \"Super Admin\" ? (\n        <div className=\"col-6\">\n          <div className=\"container-fluid\">\n            <div className=\"container-fluid\">\n              <div className=\"card mt-4 mb-4 rounded\">\n                <div\n                  className=\"card-header py-3 dark-blue\"\n                  style={{ fontFamily: \"verdana\" }}\n                >\n                  <h5>{i18n.t(\"Institute_List\")}</h5>\n                </div>\n                <div className=\"card-body\">\n                  <div style={{ height: 450, backgroundColor: \"white\" }}>\n                    <ResponsivePie\n                      data={instData}\n                      margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n                      innerRadius={0.5}\n                      padAngle={0.7}\n                      cornerRadius={3}\n                      activeOuterRadiusOffset={8}\n                      colors={{ scheme: \"accent\" }}\n                      borderWidth={2}\n                      borderColor={{\n                        from: \"color\",\n                        modifiers: [[\"brighter\", 0.2]],\n                      }}\n                      arcLinkLabelsSkipAngle={6}\n                      arcLinkLabelsTextColor=\"#333333\"\n                      arcLinkLabelsThickness={2}\n                      arcLinkLabelsColor=\"#766f6f\"\n                      arcLabelsSkipAngle={10}\n                      arcLabelsTextColor={{\n                        from: \"color\",\n                        modifiers: [[\"darker\", 2]],\n                      }}\n                      defs={[\n                        {\n                          id: \"dots\",\n                          type: \"patternDots\",\n                          background: \"inherit\",\n                          color: \"rgba(255, 255, 255, 0.3)\",\n                          size: 4,\n                          padding: 1,\n                          stagger: true,\n                        },\n                        {\n                          id: \"lines\",\n                          type: \"patternLines\",\n                          background: \"inherit\",\n                          color: \"rgba(255, 255, 255, 0.3)\",\n                          rotation: -45,\n                          lineWidth: 6,\n                          spacing: 10,\n                        },\n                      ]}\n                      fill={[\n                        {\n                          match: {\n                            id: \"ruby\",\n                          },\n                          id: \"dots\",\n                        },\n                        {\n                          match: {\n                            id: \"c\",\n                          },\n                          id: \"dots\",\n                        },\n                        {\n                          match: {\n                            id: \"go\",\n                          },\n                          id: \"dots\",\n                        },\n                        {\n                          match: {\n                            id: \"python\",\n                          },\n                          id: \"dots\",\n                        },\n                        {\n                          match: {\n                            id: \"scala\",\n                          },\n                          id: \"lines\",\n                        },\n                        {\n                          match: {\n                            id: \"lisp\",\n                          },\n                          id: \"lines\",\n                        },\n                        {\n                          match: {\n                            id: \"elixir\",\n                          },\n                          id: \"lines\",\n                        },\n                        {\n                          match: {\n                            id: \"javascript\",\n                          },\n                          id: \"lines\",\n                        },\n                      ]}\n                      transitionMode=\"startAngle\"\n                      legends={[]}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        \"\"\n      )}\n\n      <div className=\"col-6\">\n        <div className=\"container-fluid\">\n          <div className=\"container-fluid\">\n            <div className=\"card mt-4 mb-4\">\n              <div\n                className=\"card-header py-3 dark-blue\"\n                style={{ fontFamily: \"verdana\" }}\n              >\n                <h5>{i18n.t(\"Session_List\")}</h5>\n              </div>\n              <div className=\"card-body\">\n                <div style={{ height: 450, backgroundColor: \"white\" }}>\n                  <ResponsiveBar\n                    data={barData}\n                    keys={[\"totalSessionNum\", \"activeSessionNum\"]}\n                    keyNames={[\"Total Sessions\", \"Active Sessions\"]}\n                    indexBy=\"institute\"\n                    margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\n                    padding={0.3}\n                    valueScale={{ type: \"linear\" }}\n                    indexScale={{ type: \"band\", round: true }}\n                    valueFormat={{ format: \"\", enabled: false }}\n                    colors={{ scheme: \"paired\" }}\n                    defs={[\n                      {\n                        id: \"dots\",\n                        type: \"patternDots\",\n                        background: \"inherit\",\n                        color: \"#38bcb2\",\n                        size: 4,\n                        padding: 1,\n                        stagger: true,\n                      },\n                      {\n                        id: \"lines\",\n                        type: \"patternLines\",\n                        background: \"inherit\",\n                        color: \"#eed312\",\n                        rotation: -45,\n                        lineWidth: 6,\n                        spacing: 10,\n                      },\n                    ]}\n                    fill={[\n                      {\n                        match: {\n                          id: \"fries\",\n                        },\n                        id: \"dots\",\n                      },\n                      {\n                        match: {\n                          id: \"sandwich\",\n                        },\n                        id: \"lines\",\n                      },\n                    ]}\n                    borderRadius={5}\n                    borderWidth={2}\n                    borderColor={{ theme: \"background\" }}\n                    axisTop={null}\n                    axisRight={null}\n                    axisBottom={{\n                      tickSize: 5,\n                      tickPadding: 5,\n                      tickRotation: 0,\n                      legend: \"Institute\",\n                      legendPosition: \"middle\",\n                      legendOffset: 32,\n                    }}\n                    axisLeft={{\n                      tickSize: 5,\n                      tickPadding: 5,\n                      tickRotation: 0,\n                      legend: \"Count\",\n                      legendPosition: \"middle\",\n                      legendOffset: -40,\n                    }}\n                    labelSkipWidth={13}\n                    labelSkipHeight={9}\n                    labelTextColor={{\n                      from: \"color\",\n                      modifiers: [[\"darker\", \"1.6\"]],\n                    }}\n                    legends={[\n                      {\n                        dataFrom: \"keys\",\n                        anchor: \"bottom-right\",\n                        direction: \"column\",\n                        justify: false,\n                        translateX: 120,\n                        translateY: 0,\n                        itemsSpacing: 2,\n                        itemWidth: 100,\n                        itemHeight: 20,\n                        itemDirection: \"left-to-right\",\n                        itemOpacity: 0.85,\n                        symbolSize: 20,\n                        effects: [\n                          {\n                            on: \"hover\",\n                            style: {\n                              itemOpacity: 1,\n                            },\n                          },\n                        ],\n                      },\n                    ]}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default withNamespaces()(DonutBar);\n"]},"metadata":{},"sourceType":"module"}