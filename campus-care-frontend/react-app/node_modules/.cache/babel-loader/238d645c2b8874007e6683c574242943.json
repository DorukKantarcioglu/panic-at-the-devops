{"ast":null,"code":"import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService\";\nimport LocalStorageUtil from \"./LocalStorageService\";\n\nconst ReservationService = function () {\n  const path = \"http://localhost:8080/api/v1/reservations\";\n\n  const _getReservations = async () => {\n    const config = axios.interceptors.request.use(config => {\n      const token = LocalStorageUtil.getToken();\n\n      if (token) {\n        config.headers[\"Authorization\"] = \"Bearer \" + token;\n      } // config.headers['Content-Type'] = 'application/json';\n\n\n      return config;\n    });\n    const response = await axios.get(\"http://localhost:8080/api/v1/reservations\", {\n      config\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _getReservation = async id => {\n    const url = \"http://localhost:8080/api/v1/reservations/\" + id;\n    const response = await axios.get(url, {\n      headers: {\n        Authorization: `Bearer ${LocalStorageService.getToken()}`\n      }\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _createReservation = async reservation => {\n    const response = await axios.post(\"http://localhost:8080/api/v1/reservations\", {}, {\n      headers: {\n        userId: reservation.userId,\n        date: reservation.date,\n        timeSlot: reservation.timeSlot,\n        place: reservation.place,\n        type: reservation.type,\n        Authorization: \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _deleteReservation = async id => {\n    const url = \"http://localhost:8080/api/v1/reservations/\" + id;\n    const response = await axios.delete(url, {\n      headers: {\n        Authorization: \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _getAvailableTimes = async (type, date, place) => {\n    const response = await axios.get(path.concat(\"/timeSlot\"), {\n      headers: {\n        type: type,\n        date: date,\n        place: place,\n        Authorization: \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _getPlaces = async type => {\n    const response = await axios.get(path.concat(\"/places\"), {\n      headers: {\n        type: type,\n        Authorization: \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n\n    if (response) {\n      return response.data;\n    }\n  };\n\n  return {\n    getReservations: _getReservations,\n    getReservation: _getReservation,\n    createReservation: _createReservation,\n    deleteReservation: _deleteReservation,\n    getAvailableTimes: _getAvailableTimes,\n    getPlaces: _getPlaces\n  };\n}();\n\nexport default ReservationService;","map":{"version":3,"sources":["/Users/elifcenesiz/Documents/GitHub/panic-at-the-devops/campus-care-frontend/react-app/src/service/ReservationService.js"],"names":["axios","LocalStorageService","LocalStorageUtil","ReservationService","path","_getReservations","config","interceptors","request","use","token","getToken","headers","response","get","data","_getReservation","id","url","Authorization","_createReservation","reservation","post","userId","date","timeSlot","place","type","_deleteReservation","delete","_getAvailableTimes","concat","_getPlaces","getReservations","getReservation","createReservation","deleteReservation","getAvailableTimes","getPlaces"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport LocalStorageService from \"./LocalStorageService\";\nimport LocalStorageUtil from \"./LocalStorageService\";\n\nconst ReservationService = (function () {\n\n  const path = \"http://localhost:8080/api/v1/reservations\";\n\n  const _getReservations = async () => {\n\n\n    const config = axios.interceptors.request.use(\n        (config) => {\n          const token = LocalStorageUtil.getToken();\n          if (token) {\n            config.headers[\"Authorization\"] = \"Bearer \" + token;\n          }\n          // config.headers['Content-Type'] = 'application/json';\n          return config;\n        });\n\n    const response = await axios.get(\n      \"http://localhost:8080/api/v1/reservations\",{config},\n    );\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _getReservation = async (id) => {\n    const url = \"http://localhost:8080/api/v1/reservations/\" + id;\n    const response = await axios.get(url, {headers:{\n          Authorization: `Bearer ${LocalStorageService.getToken()}`}});\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _createReservation = async (reservation) => {\n    const response = await axios.post(\n      \"http://localhost:8080/api/v1/reservations\",\n      {},\n      {\n        headers: {\n          userId: reservation.userId,\n          date: reservation.date,\n          timeSlot: reservation.timeSlot,\n          place: reservation.place,\n          type: reservation.type,\n          Authorization : \"Bearer \" + LocalStorageService.getToken()\n        },\n      }\n    );\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _deleteReservation = async (id) => {\n    const url = \"http://localhost:8080/api/v1/reservations/\" + id;\n    const response = await axios.delete(url, {headers:{Authorization : \"Bearer \" + LocalStorageService.getToken()}});\n    if (response) {\n      return response.data;\n    }\n  };\n\n  const _getAvailableTimes=async (type, date, place) => {\n    const response = await axios.get(path.concat(\"/timeSlot\"), {\n      headers: {\n        type: type,\n        date: date,\n        place: place,\n        Authorization : \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n    if (response) {\n      return response.data;\n    }\n  }\n\n  const _getPlaces=async (type) => {\n    const response = await axios.get(path.concat(\"/places\"), {\n      headers: {\n        type: type,\n        Authorization : \"Bearer \" + LocalStorageService.getToken()\n      }\n    });\n    if (response) {\n      return response.data;\n    }\n  }\n\n  return {\n    getReservations: _getReservations,\n    getReservation: _getReservation,\n    createReservation: _createReservation,\n    deleteReservation: _deleteReservation,\n    getAvailableTimes: _getAvailableTimes,\n    getPlaces: _getPlaces\n  };\n})();\nexport default ReservationService;\n\n"]},"metadata":{},"sourceType":"module"}