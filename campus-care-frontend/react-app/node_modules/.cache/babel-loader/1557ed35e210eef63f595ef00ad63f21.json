{"ast":null,"code":"var _jsxFileName = \"/Users/elifcenesiz/Documents/GitHub/panic-at-the-devops/campus-care-frontend/react-app/src/app/components/appointmentComponents/ReservationForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport MyButton from \"../MyButton/MyButton\";\nimport ReservationService from \"../../../service/ReservationService\";\nimport MyOptions from \"../MyOptions/MyOptions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ReservationForm = _ref => {\n  _s();\n\n  let {\n    create\n  } = _ref;\n  const [reservation, setReservation] = useState({\n    type: '',\n    place: '',\n    timeSlot: '',\n    date: ''\n  });\n  const [temp, setTemp] = useState({\n    type: '',\n    date: '',\n    place: ''\n  });\n  const [options, setOptions] = useState([]);\n\n  const addAvailableTimes = e => {\n    e.preventDefault();\n    console.log(temp);\n    fetchAvailableTime();\n  };\n\n  async function fetchAvailableTime() {\n    const response = await ReservationService.getAvailableTimes(temp.type, temp.date, temp.place);\n    console.log(\" I was \", response);\n    {\n      response && response.map(response0 => setOptions([response0]));\n    }\n  }\n\n  useEffect(async () => {\n    await fetchAvailableTime();\n  }, []);\n\n  const addNewReservation = e => {\n    console.log(e);\n    e.preventDefault();\n    console.log(reservation);\n    const newReservation = { ...reservation,\n      id: Date.now()\n    };\n    create(newReservation);\n    console.log(ReservationService.createReservation(newReservation));\n    setReservation({\n      place: '',\n      timeSlot: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        sm: 12,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"col-12\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: \"Choose Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              as: \"select\",\n              value: reservation.type,\n              onChange: e => {\n                setReservation({ ...reservation,\n                  type: e.target.value\n                });\n                setTemp({ ...temp,\n                  type: e.target.value\n                });\n              },\n              type: \"text\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Diagnovir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Library\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Sports Center\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"col-12\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: \"Choose Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              as: \"select\",\n              value: reservation.place,\n              onChange: e => {\n                setReservation({ ...reservation,\n                  place: e.target.value\n                });\n                setTemp({ ...temp,\n                  place: e.target.value\n                });\n              },\n              type: \"text\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Main Sports Hall\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Dormitory Sports Hall\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Library ( Main Campus )\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Library ( East Campus )\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Diagnovir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"col-12\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: \"Date (dd.mm.yy)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              value: reservation.date,\n              onChange: e => {\n                setReservation({ ...reservation,\n                  date: e.target.value\n                });\n                setTemp({ ...temp,\n                  date: e.target.value\n                });\n              },\n              type: \"date\",\n              placeholder: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(MyButton, {\n                onClick: addAvailableTimes,\n                children: \"Get Available Times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"col-12\",\n              style: {\n                marginLeft: \"0px\"\n              },\n              children: \"Time Interval\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              as: \"select\",\n              value: reservation.timeSlot,\n              onChange: e => {\n                setReservation({ ...reservation,\n                  timeSlot: e.target.value\n                });\n              },\n              type: \"text\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MyOptions, {\n                options: options\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(MyButton, {\n                onClick: addNewReservation,\n                children: \"Reserve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(MyButton, {\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ReservationForm, \"mmaHCQvEbqIV7kg0UUorHexdXco=\");\n\n_c = ReservationForm;\nexport default ReservationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"sources":["/Users/elifcenesiz/Documents/GitHub/panic-at-the-devops/campus-care-frontend/react-app/src/app/components/appointmentComponents/ReservationForm.js"],"names":["React","useEffect","useState","Form","Container","Col","Row","MyButton","ReservationService","MyOptions","ReservationForm","create","reservation","setReservation","type","place","timeSlot","date","temp","setTemp","options","setOptions","addAvailableTimes","e","preventDefault","console","log","fetchAvailableTime","response","getAvailableTimes","map","response0","addNewReservation","newReservation","id","Date","now","createReservation","marginLeft","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport MyButton from \"../MyButton/MyButton\";\nimport ReservationService from \"../../../service/ReservationService\";\nimport MyOptions from \"../MyOptions/MyOptions\";\n\nconst ReservationForm = ({ create }) => {\n\n  const [reservation, setReservation] = useState({type: '', place: '', timeSlot: '', date: ''})\n  const [temp, setTemp] = useState({type: '', date: '', place: ''})\n  const [options, setOptions] = useState([])\n\n  const addAvailableTimes = (e) => {\n    e.preventDefault()\n    console.log(temp)\n    fetchAvailableTime()\n\n  }\n  async function fetchAvailableTime(){\n    const response = await ReservationService.getAvailableTimes(temp.type, temp.date, temp.place);\n    console.log( \" I was \", response)\n    {response&& response.map(response0 =>\n        setOptions([response0])\n    )}\n  }\n\n  useEffect( async () => {\n    await fetchAvailableTime();\n  }, [])\n\n  const addNewReservation = (e) => {\n    console.log(e)\n    e.preventDefault()\n    console.log(reservation)\n    const newReservation = {\n      ...reservation, id: Date.now()\n    }\n    create(newReservation)\n    console.log(ReservationService.createReservation(newReservation))\n    setReservation({place: '', timeSlot: ''})\n  }\n\n  return (\n    <Container>\n      <Row>\n        <Col sm={12}>\n          <Form>\n            <Form.Group>\n              <Form.Label className=\"col-12\" style={{ marginLeft: \"0px\" }}>\n                Choose Type\n              </Form.Label>\n              <Form.Select\n                  as=\"select\"\n                  value={reservation.type}\n                  onChange= { e => {\n                    setReservation({...reservation, type : e.target.value})\n                    setTemp(({...temp, type: e.target.value}))}}\n                  type= \"text\"\n              >\n                <option>...</option>\n                <option>Diagnovir</option>\n                <option>Library</option>\n                <option>Sports Center</option>\n\n              </Form.Select>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label className=\"col-12\" style={{ marginLeft: \"0px\" }}>\n                Choose Location\n              </Form.Label>\n              <Form.Select\n                  as=\"select\"\n                  value={reservation.place}\n                  onChange= { e => {\n                    setReservation({...reservation, place: e.target.value})\n                    setTemp({...temp, place: e.target.value})}}\n                  type= \"text\"\n              >\n                <option>...</option>\n                <option>Main Sports Hall</option>\n                <option>Dormitory Sports Hall</option>\n                <option>Library ( Main Campus )</option>\n                <option>Library ( East Campus )</option>\n                <option>Diagnovir</option>\n              </Form.Select>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label className=\"col-12\" style={{ marginLeft: \"0px\" }}>\n                Date (dd.mm.yy)\n              </Form.Label>\n              <Form.Control\n                  as=\"textarea\"\n                  value={reservation.date}\n                  onChange= { e => {\n                    setReservation({...reservation, date : e.target.value})\n                    setTemp({...temp, date: e.target.value})}}\n                  type= \"date\"\n                  placeholder=\"Date\"\n              >\n\n              </Form.Control>\n            </Form.Group>\n\n            <Row className=\"mb-2\">\n              <Col>\n                <MyButton onClick = {addAvailableTimes} >\n                       Get Available Times\n                </MyButton>\n              </Col>\n            </Row>\n\n            <Form.Group>\n              <Form.Label className=\"col-12\" style={{ marginLeft: \"0px\" }}>\n                Time Interval\n              </Form.Label>\n              <Form.Select\n                  as=\"select\"\n                  value={reservation.timeSlot}\n                  onChange= { e => {\n                    setReservation({...reservation, timeSlot : e.target.value})}}\n                  type= \"text\"\n              >\n                  <option>...</option>\n                  <MyOptions options = {options}/>\n              </Form.Select>\n            </Form.Group>\n\n            <Row className=\"mb-2\">\n              <Col>\n                <MyButton onClick = {addNewReservation} >\n                  Reserve\n                </MyButton>\n              </Col>\n              <Col>\n                <MyButton>\n                  Cancel\n                </MyButton>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default ReservationForm;\n"]},"metadata":{},"sourceType":"module"}